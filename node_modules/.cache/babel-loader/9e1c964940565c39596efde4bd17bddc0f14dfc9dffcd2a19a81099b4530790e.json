{"ast":null,"code":"import _objectSpread from\"C:/Users/andre/source/repos/budget-manager-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{fetchCategorySummary}from'../services/api';import'../Layout.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategorySummary=_ref=>{let{refreshKey}=_ref;const[data,setData]=useState([]);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const result=await fetchCategorySummary();const totalAmount=result.reduce((sum,item)=>sum+Math.abs(item.totalAmount),0);const dataWithPercentage=result.map(item=>_objectSpread(_objectSpread({},item),{},{percentage:(Math.abs(item.totalAmount)/totalAmount*100).toFixed(2)}));setData(dataWithPercentage);}catch(err){setError('Failed to fetch category summary');}};fetchData();},[refreshKey]);// Lyssna p� refreshKey f�r att uppdatera\nif(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Category Summary\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"category-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"category-name\",children:item.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"category-amount \".concat(item.totalAmount>=0?'positive':'negative'),children:[item.totalAmount,\" kr\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"category-percentage\",children:[\"(\",item.percentage,\"%)\"]})]},index))})]});};export default CategorySummary;","map":{"version":3,"names":["React","useEffect","useState","fetchCategorySummary","jsx","_jsx","jsxs","_jsxs","CategorySummary","_ref","refreshKey","data","setData","error","setError","fetchData","result","totalAmount","reduce","sum","item","Math","abs","dataWithPercentage","map","_objectSpread","percentage","toFixed","err","children","index","className","category","concat"],"sources":["C:/Users/andre/source/repos/budget-manager-frontend/src/components/CategorySummary.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchCategorySummary } from '../services/api';\r\nimport '../Layout.css';\r\n\r\nconst CategorySummary = ({ refreshKey }) => {\r\n    const [data, setData] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const result = await fetchCategorySummary();\r\n                const totalAmount = result.reduce((sum, item) => sum + Math.abs(item.totalAmount), 0);\r\n                const dataWithPercentage = result.map((item) => ({\r\n                    ...item,\r\n                    percentage: ((Math.abs(item.totalAmount) / totalAmount) * 100).toFixed(2),\r\n                }));\r\n                setData(dataWithPercentage);\r\n            } catch (err) {\r\n                setError('Failed to fetch category summary');\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [refreshKey]); // Lyssna p� refreshKey f�r att uppdatera\r\n\r\n    if (error) {\r\n        return <div>{error}</div>;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Category Summary</h2>\r\n            <ul>\r\n                {data.map((item, index) => (\r\n                    <li key={index} className=\"category-row\">\r\n                        <span className=\"category-name\">{item.category}</span>\r\n                        <span\r\n                            className={`category-amount ${item.totalAmount >= 0 ? 'positive' : 'negative'}`}\r\n                        >\r\n                            {item.totalAmount} kr\r\n                        </span>\r\n                        <span className=\"category-percentage\">({item.percentage}%)</span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategorySummary;\r\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,oBAAoB,KAAQ,iBAAiB,CACtD,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAb,oBAAoB,CAAC,CAAC,CAC3C,KAAM,CAAAc,WAAW,CAAGD,MAAM,CAACE,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGE,IAAI,CAACC,GAAG,CAACF,IAAI,CAACH,WAAW,CAAC,CAAE,CAAC,CAAC,CACrF,KAAM,CAAAM,kBAAkB,CAAGP,MAAM,CAACQ,GAAG,CAAEJ,IAAI,EAAAK,aAAA,CAAAA,aAAA,IACpCL,IAAI,MACPM,UAAU,CAAE,CAAEL,IAAI,CAACC,GAAG,CAACF,IAAI,CAACH,WAAW,CAAC,CAAGA,WAAW,CAAI,GAAG,EAAEU,OAAO,CAAC,CAAC,CAAC,EAC3E,CAAC,CACHf,OAAO,CAACW,kBAAkB,CAAC,CAC/B,CAAE,MAAOK,GAAG,CAAE,CACVd,QAAQ,CAAC,kCAAkC,CAAC,CAChD,CACJ,CAAC,CACDC,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACL,UAAU,CAAC,CAAC,CAAE;AAElB,GAAIG,KAAK,CAAE,CACP,mBAAOR,IAAA,QAAAwB,QAAA,CAAMhB,KAAK,CAAM,CAAC,CAC7B,CAEA,mBACIN,KAAA,QAAAsB,QAAA,eACIxB,IAAA,OAAAwB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBxB,IAAA,OAAAwB,QAAA,CACKlB,IAAI,CAACa,GAAG,CAAC,CAACJ,IAAI,CAAEU,KAAK,gBAClBvB,KAAA,OAAgBwB,SAAS,CAAC,cAAc,CAAAF,QAAA,eACpCxB,IAAA,SAAM0B,SAAS,CAAC,eAAe,CAAAF,QAAA,CAAET,IAAI,CAACY,QAAQ,CAAO,CAAC,cACtDzB,KAAA,SACIwB,SAAS,oBAAAE,MAAA,CAAqBb,IAAI,CAACH,WAAW,EAAI,CAAC,CAAG,UAAU,CAAG,UAAU,CAAG,CAAAY,QAAA,EAE/ET,IAAI,CAACH,WAAW,CAAC,KACtB,EAAM,CAAC,cACPV,KAAA,SAAMwB,SAAS,CAAC,qBAAqB,CAAAF,QAAA,EAAC,GAAC,CAACT,IAAI,CAACM,UAAU,CAAC,IAAE,EAAM,CAAC,GAP5DI,KAQL,CACP,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}